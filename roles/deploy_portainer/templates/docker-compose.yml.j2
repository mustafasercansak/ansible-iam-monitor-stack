version: '3.3'

services:
  portainer:
    image: portainer/portainer-ce:latest
    container_name: portainer
    restart: always
    command: --admin-password '{{ portainer_hashed_password }}'
    
    ports:
      - "{{ docker.portainer.https }}:9443"
      - "{{ docker.portainer.http }}:9000"
      - "{{ docker.portainer.edge }}:8000"
      
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock
      - {{ process_directory }}/data:/data
      - {{ process_directory }}/conf:/etc/portainer
      - {{ process_directory }}/provisioning:/provisioning
    networks:
      - local

networks:
  local:
    driver: bridge  